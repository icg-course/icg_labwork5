<!DOCTYPE html>
<html lang="ru">
  <head>  
    <meta charset="utf-8" />
    <!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><![endif]-->
    <title>Лабораторная работа 5</title>
    <link rel="stylesheet" href="https://www.x3dom.org/download/x3dom.css" />
    <script src="https://www.x3dom.org/download/x3dom.js"></script>
    <link rel="stylesheet" href="https://www.x3dom.org/download/x3dom.css" />
    <link rel="stylesheet" href="style.css"/>
    <script src="https://www.x3dom.org/download/x3dom.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="main.js"></script>
  </head>

  
  <body style='width:100%; height:100%; border:0; margin:0; padding:0; background: url("4.jpg") no-repeat fixed; background-size: cover; background-position: center;'>
    <x3d>
      <Scene>
        <Transform DEF="Kegl" translation="0 0 0">
          <Transform>
          <Shape>
          <Appearance>
          <Material></Material>
          <ImageTexture url="1.jpg"></ImageTexture>
          </Appearance>
          <Sphere radius="0.25"></Sphere>
          </Shape>
        </Transform>
        
        <Transform translation="0 -1 0" rotation="0 0 1 3.14">
          <Shape>
          <Appearance>
          <Material></Material>
          <ImageTexture url="1.jpg"></ImageTexture>
          </Appearance>
          <Cone  bottom="true" bottomRadius="0.25" height ="2" side="true" solid="true"></Cone>
          </Shape>
        </Transform>

        <Transform translation="0 -0.5 0">
          <Shape>
          <Appearance>
          <Material></Material>
          <ImageTexture url="1.jpg"></ImageTexture>
          </Appearance>
          <Cylinder  bottom="true" radius="0.20" height ="1" side="true" solid="true" top="true"></Cylinder>
          </Shape>
        </Transform>

        <Transform translation="0 -0.95 0">
          <Shape>
          <Appearance>
          <Material></Material>
          <ImageTexture url="2.jpg"></ImageTexture>
          </Appearance>
          <Cylinder  bottom="true" radius="0.21" height ="0.1" side="true" solid="true" top="true"></Cylinder>
          </Shape>
        </Transform>

        
        <Transform translation="0 -1 0" rotation="0 0 0 0">
          <Shape>
          <Appearance>
          <Material></Material>
          <ImageTexture url="1.jpg"></ImageTexture>
          </Appearance>
          <Cone  bottom="true" bottomRadius="0.4" height ="1" side="true" solid="true"></Cone>
          </Shape>
        </Transform>

        <Transform translation="0 -2.25 0">
          <Shape>
          <Appearance>
          <Material></Material>
          <ImageTexture url="1.jpg"></ImageTexture>
          </Appearance>
          <Cylinder  bottom="true" radius="0.4" height ="1.5" side="true" solid="true" top="true"></Cylinder>
          </Shape>
        </Transform>

        <Transform translation="0 -3.25 0" rotation="0 0 1 3.14">
          <Shape>
          <Appearance>
          <Material></Material>
          <ImageTexture url="1.jpg"></ImageTexture>
          </Appearance>
          <Cone  bottom="true" bottomRadius="0.4" height ="0.5" side="true" solid="true"></Cone>
          </Shape>
        </Transform>
      </Transform>

      <Transform translation='1 0 -1'> 
        <Shape USE ='Kegl'>   
            </Shape>
   </Transform>

   <Transform translation='-1 0 -1'> 
    <Shape USE ='Kegl'>   
        </Shape>
</Transform>
     

       <Transform translation='0 0 -2'> 
        <Shape USE ='Kegl'>   
            </Shape>
   </Transform>

   <Transform translation='2 0 -2'> 
    <Shape USE ='Kegl'>   
        </Shape>
</Transform>

<Transform translation='-2 0 -2'> 
  <Shape USE ='Kegl'>   
      </Shape>
</Transform>

<Transform translation='1 0 -3'> 
  <Shape USE ='Kegl'>   
      </Shape>
</Transform>

<Transform translation='-1 0 -3'> 
<Shape USE ='Kegl'>   
  </Shape>
</Transform>

<Transform translation='3 0 -3'> 
  <Shape USE ='Kegl'>   
      </Shape>
</Transform>

<Transform translation='-3 0 -3'> 
<Shape USE ='Kegl'>   
  </Shape>
</Transform>


<Transform translation="0 -3.4 0" rotation="0 0 1 3.14">
  <Shape>
  <Appearance>
  <Material></Material>
  <ImageTexture url="3.jpg"></ImageTexture>
  </Appearance>
  <Box  size="10 0.30 20"></Box>
  </Shape>
</Transform>

<PointLight  DEF="Point" ambientIntensity='0' attenuation='1,0,0' color='0,0,0.2' 
                                global='false' intensity='1' location='0,3,3'
                                on='true' radius='100' shadowFilterSize='0' 
                                shadowIntensity='0.5' shadowMapSize='2000' 
                                shadowOffset='0' zFar='0' zNear='0' >
                    </PointLight>
                    
<Viewpoint position="0 5 30" 
                       orientation="0 0 0 0" 
                       zNear="1" zFar="1000" 
                       centerOfRotation="0.00000 0.00000 0.00000" 
                       fieldOfView="0.9" 
                       description="defaultX3DViewpointNode">
             </Viewpoint>
  

  

         <TimeSensor id="Time" DEF="Time" cycleInterval="4" loop="true" enabled='true'></TimeSensor>
        <PositionInterpolator DEF="PosInt" key="0 0.5 1"
        keyValue="0 -2.4 2, 0 0 8,  0 -2.4 2">
        </PositionInterpolator>
        <PositionChaser DEF="PosCh" duration="1.2"></PositionChaser>
        <Transform DEF="Trans" translation="0 -2.4 2">
        <Shape>
        <Appearance>
        <Material></Material>
        <ImageTexture url="5.jpg"></ImageTexture>
        </Appearance>
        <Sphere radius="1"></Sphere>
        </Shape>
        </Transform>
        <ROUTE fromNode="Time" fromField="fraction_changed"
        toNode="PosInt" toField="set_fraction"></ROUTE>
        <ROUTE fromNode="PosInt" fromField="value_changed"
        toNode="PosCh" toField="set_destination"></ROUTE>
        <ROUTE fromNode='PosCh' fromField='value_changed' 
        toNode='Trans' toField='set_translation'>
        </ROUTE>

           
        <TimeSensor id="Time1" DEF="Time1" cycleInterval="4" loop="true"></TimeSensor>
        <OrientationInterpolator DEF="OrientInt" key="0 0.5 1" keyValue="1 0 0 0, 1 0 0 3.14, 1 0 0 6.28">
        </OrientationInterpolator>
        <OrientationDamper DEF="OrientD" tau="0.2"></OrientationDamper>
         <ROUTE fromNode="OrientD" fromField="value_changed" toNode="Kegl" toField="set_rotation">
        </ROUTE>
        <ROUTE fromNode="OrientInt" fromField="value_changed" toNode="OrientD" toField="set_destination">
        </ROUTE>
        <ROUTE fromNode="Time1" fromField="fraction_changed" toNode="OrientInt" toField="set_fraction">
        </ROUTE>
        
        
       </Scene>
    </x3d>

    <div>
      <section>
        <button id="button1" type="submit"><h2>Запуск шара</h2></button>
        <button id="button2" type="submit"><h2>Остановка шара</h2></button>
        <button id="button3" type="submit"><h2>Запуск кеглей</h2></button>
        <button id="button4" type="submit"><h2>Остановка кеглей</h2></button>
        <button id="button5" type="submit"><h2>Запуск всего</h2></button>
        <button id="button6" type="submit"><h2>Остановка всего</h2></button>  
      </section>
    </div>
    
  </body> 
</html>

