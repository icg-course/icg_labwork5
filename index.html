<!DOCTYPE html>
<html lang="ru">
  <head>  
    <meta charset="utf-8" />
    <title>Лабораторная работа 5</title>
    <link rel="stylesheet" href="https://www.x3dom.org/download/dev/x3dom.css">
    <script src="https://www.x3dom.org/download/dev/x3dom-full.js"></script>
    <script src="privetstvie.js"></script>
  </head>
  <body>
  <h1>|Лаба 5|</h1>
  <button id='b1'>Test</button>
  <X3D style="left:0px; top:0px; width:100%; height:100%; border: none;">
    <Scene>
      <Background backUrl="FullMoonFront2048.png" bottomUrl="FullMoonDown2048.png" 
      frontUrl="FullMoonBack2048.png" leftUrl="FullMoonLeft2048.png" 
      rightUrl="FullMoonRight2048.png" topUrl="FullMoonUp2048.png"></Background>
      <!--пол-->
      <Collision enabled="true">
      <Transform rotation="0 0 1 1.57" translation="0 -1.2 0">
      <Shape>
        <Appearance>
        <ImageTexture url="чистый-кирпич_111.jpg"></ImageTexture>
        </Appearance>
          <Box size="0.1 5 5"></Box>
      </Shape>
      </Transform>
      <!--стена 1-->
      <Transform  rotation="1 0 0 1.57" translation="-2.42 0.58 0">
      <Shape>
        <Appearance>
        <Material diffuseColor="0.5 0.7 1" transparency ="0.3"></Material>
        </Appearance>
          <Box size="0.1 5 3.5"></Box>
      </Shape>
      </Transform> 
      <!--стена 2-->
      <Transform  rotation="0 1 0  1.57" translation="0 0.58 -2.42">
      <Shape>
        <Appearance>
        <Material diffuseColor="0.4 0.9 1" transparency ="0.3"></Material>
        </Appearance>
          <Box size="0.1 3.5 5"></Box>
      </Shape>
      </Transform> 
      </Collision>
       <!--стол-->
      <Transform  rotation="0 0 1 1.57" translation="-1 -0.7 -1">
        <transform rotation="1 0 0 2.54">
      <Shape>
        <Appearance>
        <ImageTexture url="стекловолокно_38.jpg"></ImageTexture>
        </Appearance>
          <Box size="0.07 1.5 1.5"></Box>
      </Shape>
        </transform>
      </Transform> 
       <!--ножка-->
      <Transform  rotation="0 0 1 1.57" translation="-1 -0.95 -1.0">
        <transform rotation="1 0 0 2.54">
      <Shape>
        <Appearance>
        <ImageTexture url="новая-фанера_12.jpg"></ImageTexture>
        </Appearance>
          <Box size="0.5 0.5 0.5"></Box>
      </Shape>
        </transform>
      </Transform> 
      <!--ковёр-->
      <Transform  rotation="0 0 1 1.57" translation="-0.5 -1.145 -0.7">
        <transform rotation="1 0 0 2.54">
      <Shape>
        <Appearance>
        <ImageTexture url="ковры_54.jpg"></ImageTexture>
        </Appearance>
          <Box size="0.02 3 2"></Box>
      </Shape>
        </transform>
      </Transform> 
      <!--окно 1-->
      <Transform  rotation="1 0 0 1.57" translation="-2.38 1 -0.7">
      <Shape>
        <Appearance>
        <ImageTexture url="Untitled-28.jpg"></ImageTexture>
        </Appearance>
          <Box size="0.15 2 2"></Box>
      </Shape>
      </Transform> 
      <!--окно 2-->
      <Transform  rotation="0 1 0 1.57" translation="-0.7 1 -2.42">
      <Shape>
        <Appearance>
        <ImageTexture url="depositphotos_109467700.jpg"></ImageTexture>
        </Appearance>
          <Box size="0.15 1.5 3"></Box>
      </Shape>
      </Transform>
      <!--табличка не курить-->
      <Transform  rotation="0 1 0 1.57" translation="1.5 0.5 -2.37">
      <Shape>
        <Appearance>
        <ImageTexture url="китайские-знаки_ 32.jpg"></ImageTexture>
        </Appearance>
          <Box size="0.02 0.3 0.7"></Box>
      </Shape>
      </Transform>  
      <!--тв основа-->
      <Transform  rotation="0 1 0 1.57" translation="-1 -0.3 -1">
        <transform rotation="0 1 0 2.54">
      <Shape>
        <Appearance>
        <ImageTexture url="старая-фанера_82.jpg"></ImageTexture>
        </Appearance>
          <Box size="1 0.8 0.4"></Box>
      </Shape>
        </transform>
      </Transform>
      <!--тв экран-->
      <Transform  rotation="0 1 0 1.57" translation="-0.95 -0.3 -0.8">
        <transform rotation="0 1 0 2.54">
      <Shape>
        <Appearance>
        <MovieTexture repeatS="false" repeatT="false" url="Сломанный телевизор.mp4" loop="true" speed="100"></MovieTexture>
        <!--<ImageTexture id = "kartinka" url="kSwEJxH7ie8.jpg"></ImageTexture>-->
        </Appearance>
          <Box size="0.7 0.55 0.1"></Box>
      </Shape>
        </transform>
      </Transform>
      <!--тв кнопки-->
      <Transform  rotation="0 1 0 1.57" translation="-0.65 -0.3 -1.2">
        <transform rotation="0 1 0 2.54">
      <Shape>
        <Appearance>
        <ImageTexture url="19_123.jpg"></ImageTexture>
        </Appearance>
          <Box size="0.2 0.79 0.1"></Box>
      </Shape>
        </transform>
      </Transform>   
      <!--тв марка-->
      <Transform  rotation="0 1 0 1.57" translation="-1.1 -0.61 -0.6">
        <transform rotation="0 1 0 2.54">
      <Shape>
        <Appearance>
        <ImageTexture url="19_123 (1).jpg"></ImageTexture>
        </Appearance>
          <Box size="0.09 0.04 0.15"></Box>
      </Shape>
        </transform>
      </Transform> 
      <!--точечки-->  
      <Shape>
        <PointSet>
          <Color color="0.7 0 0.4, 1 0.6 0.4, 1 0.6 0.4, 0.7 0 0.4, 0.7 0 0.4, 1 0.6 0.4"></Color>
          <Coordinate point="-2.35 0 0, -2.35 2 0, -2.35 0 -2, -2.35 2 -2, -2.35 2 2, -2.35 0 2"></Coordinate>
        </PointSet>
      </Shape>
      <!--линии 1-->
      <Shape>
        <IndexedLineSet coordIndex="0 1 2 3 0 -1 2 6 5 1 -1"
                        colorIndex="0 1 2 3 4 -1 5 6 0 1 -1"
                        colorPerVertex='true'>
          <Coordinate point="-2.5 -1.15 2.5, 2.5 -1.15 2.5, 2.5 -1.15 -2.5, -2.5 -1.15 -2.5">
          </Coordinate>
          <Color color="0 0 1, 0 1 0, 0 1 1, 1 0 0, 1 0 1, 1 1 0, 1 1 1"></Color>
        </IndexedLineSet>
      </Shape>
      <!--линии 2-->
      <Shape>
        <IndexedLineSet coordIndex="0 1 2 3 0 -1 2 6 5 1 -1"
                        colorIndex="0 1 2 3 4 -1 5 6 0 1 -1"
                        colorPerVertex='true'>
          <Coordinate point="-2.5 -1.2 2.5, 2.5 -1.2 2.5, 2.5 -1.2 -2.5, -2.5 -1.2 -2.5">
          </Coordinate>
          <Color color="0 0 1, 0 1 0, 0 1 1, 1 0 0, 1 0 1, 1 1 0, 1 1 1"></Color>
        </IndexedLineSet>
      </Shape>
      <!--линии 3-->
      <Shape>
        <IndexedLineSet coordIndex="0 1 2 3 0 -1 2 6 5 1 -1"
                        colorIndex="0 1 2 3 4 -1 5 6 0 1 -1"
                        colorPerVertex='true'>
          <Coordinate point="-2.5 -1.25 2.5, 2.5 -1.25 2.5, 2.5 -1.25 -2.5, -2.5 -1.25 -2.5">
          </Coordinate>
          <Color color="0 0 1, 0 1 0, 0 1 1, 1 0 0, 1 0 1, 1 1 0, 1 1 1"></Color>
        </IndexedLineSet>
      </Shape>
      <!--скульптура-->
      <Shape>
        <IndexedFaceSet ccw="true" colorPerVertex="true" convex="true"
                        creaseAngle="0" solid="false"
                        coordIndex="0 4 5 6 -1"
                        colorIndex="4 5 6 0 -1">
          <Coordinate DEF="Coord" point="-2 -1.2 2, -1 -3.2 1, -3 0 0, 1 2 -0,
                             -2 0 2, -2 0 1, -1.5 1 1, 0 2 -1">                  
          </Coordinate>
          <Color color="0 0 1, 0 1 0, 0 1 1, 1 0 0, 1 0 1, 1 1 0, 1 1 1"></Color>
        </IndexedFaceSet>
      </Shape>
      <!--совсем крыша поехала-->
      <Shape>
        <IndexedTriangleSet index="0 1 2 3 4 5 6 7 8" solid="false">
          <Coordinate point="-2.5 2.33  2.5, 0 3.33 0, 2.5 2.33  -2.5,
                             -2.5 2.33 -2.5, 0 3.33 0, 2.5 2.33 -2.5,
                             -2.5 2.33  2.5, 0 3.33 0, 2.5 2.33 2.5">                    
          </Coordinate>
          <ColorRGBA color="0 1 1 0.4, 0 1 1 1, 1 0 0 0, 1 0.5 0 0,
                            0.8 0 1 0, 1 1 0 1, 0.6 0.3 0.1 0, 1 0 0.5 1, 0 1 0.5 0"> 
          </ColorRGBA>
        </IndexedTriangleSet>
      </Shape>
      <!--тюль-->
      <Transform  DEF="tul" translation='0 1.75 -2.208' rotation='1 0 0 1.57'>
        <Shape>
          <ElevationGrid xDimension="5" zDimension="4" xSpacing="0.3" zSpacing="0.7" solid="false"
          height="0, 0.1, 0.15, -0.05, 0, 
                 -0.05, -0.1, 0, -0.15, 0,  
                  0, 0.1, 0.15, -0.05, 0,
                  -0.05, -0.1, 0, -0.15, 0">
          </ElevationGrid>
          <Appearance>
            <ImageTexture url="тюль_37.jpg"></ImageTexture>
          </Appearance>
        </Shape>
      </Transform>
      <!--гардина-->
      <Transform rotation="1 0 0 1.57" translation="-0.2 1.75 -2.3">
        <transform rotation="0 0 1 1.57">
      <Shape>
        <Appearance>
        <ImageTexture url="новая-фанера_12.jpg"></ImageTexture>
        </Appearance>
          <Cylinder height="4" radius="0.05"></Cylinder>
      </Shape>
        </transform>
      </Transform>
      <!--кольцо 1-->
      <Transform DEF="Kol_tul1" scale="0.1 0.1 0.1" rotation="0 1 0 1.57" translation="0.03 1.75 -2.3">
      <Shape>
        <Appearance>
        <ImageTexture url="чистый-кирпич_111.jpg"></ImageTexture>
        </Appearance>
          <Torus innerRadius="0.1" outherRadius="0.1"></Torus>
      </Shape>
      </Transform>
      <!--кольцо 1-->
      <Transform DEF="Kol_tul2" scale="0.1 0.1 0.1" rotation="0 1 0 1.57" translation="1.1 1.75 -2.3">
      <Shape>
        <Appearance>
        <ImageTexture url="чистый-кирпич_111.jpg"></ImageTexture>
        </Appearance>
          <Torus innerRadius="0.1" outherRadius="0.1"></Torus>
      </Shape>
      </Transform>
      <!--текст-->
      <Transform rotation="1 1 0 1.57 1.57" translation="0 20 -20">
      <Shape>
        <Appearance>
          <Material diffusecolor="1 1 0.5"  specularcolor="1 1 0" shininess="0.7"></Material>
        </Appearance>
        <Text string=" " maxExtent ="30" lenght="35" solid="false">
            <FontStyle size="1" family="SANS" style="BOLD" horizontal="true" leftToRignt="false" topToBottom="true" language="ru" justify="MIDDLE" spacing="2">
            </FontStyle>
        </Text> 
      </Shape>
      </Transform>
      <!--основа антенны-->
      <Transform translation="-1 0.07 -1">
      <Shape>
        <Appearance>
          <Material diffusecolor="0.7 0.6 0.5"  specularcolor="0.1 0 0" shininess="0.7"></Material>
        </Appearance>
        <Sphere radius="0.1"></Sphere>
      </Shape>
      </Transform>
      <!--рог антенны 1-->
      <Transform translation="-1.01 0.5 -1.23" rotation="1 0 0 3.14"> 
        <transform rotation="1 0 0 2.54">
      <Shape>
        <Appearance>
          <ImageTexture url="стекловолокно_38.jpg"></ImageTexture>
        </Appearance>
          <Cone bottomRadius="0.01" height="1"></Cone>
      </Shape>
        </transform>
      </Transform>
      <!--рог антенны 2-->
      <Transform translation="-1 0.5 -1" rotation="0 1 0 3.14"> 
      <Shape>
        <Appearance>
          <ImageTexture url="стекловолокно_38.jpg"></ImageTexture>
        </Appearance>
          <Cone bottomRadius="0.01" height="1"></Cone>
      </Shape>
      </Transform>
      <!--они-->
      <Transform DEF="oni_1" translation="2 -0.55 -2">
      <Group DEF="Gr_1_oni">
        <Transform scale="0.3 0.5 0.3">
          <Shape>
            <Appearance>
            <ImageTexture url="kSwEJxH7ie8.jpg"></ImageTexture>
            </Appearance>
            <Sphere radius="1"></Sphere>
          </Shape>
        </Transform>
        <Transform scale="0.3 1 0.3" translation="-0.1 -0.5 0">
          <Shape>
            <Appearance>
            <ImageTexture url="стекловолокно_38.jpg"></ImageTexture>
            </Appearance>
            <Sphere radius="0.11"></Sphere>
          </Shape>
        </Transform>
        <Transform scale="0.3 1 0.3" translation="0.1 -0.5 0">
          <Shape>
            <Appearance>
            <ImageTexture url="стекловолокно_38.jpg"></ImageTexture>
            </Appearance>
            <Sphere radius="0.11"></Sphere>
          </Shape>
        </Transform>
        <Transform DEF="noga1" scale="0.3 1 0.3" translation="0.1 -0.6 0.09" rotation="1 0 0 1.57">
          <Shape>
            <Appearance>
            <ImageTexture url="стекловолокно_38.jpg"></ImageTexture>
            </Appearance>
            <Sphere radius="0.11"></Sphere>
          </Shape>
        </Transform>
        <Transform DEF="noga2" scale="0.3 1 0.3" translation="-0.1 -0.6 0.09" rotation="1 0 0 1.57">
          <Shape>
            <Appearance>
            <ImageTexture url="стекловолокно_38.jpg"></ImageTexture>
            </Appearance>
            <Sphere radius="0.11"></Sphere>
          </Shape>
        </Transform>
        <Group DEF="ruki">
        <Transform DEF="ruka11" scale="0.3 1 0.3" translation="-0.3 0 0">
          <Shape>
            <Appearance>
            <ImageTexture url="стекловолокно_38.jpg"></ImageTexture>
            </Appearance>
            <Sphere radius="0.11"></Sphere>
          </Shape>
        </Transform>
        <Transform DEF="ruka1" scale="0.3 1 0.3" translation="-0.3 -0.1 0.1" rotation="1 0 0 1.57">
          <Shape>
            <Appearance>
            <ImageTexture url="стекловолокно_38.jpg"></ImageTexture>
            </Appearance>
            <Sphere radius="0.11"></Sphere>
          </Shape>
        </Transform>
        <Transform DEF="ruka22" scale="0.3 1 0.3" translation="0.3 0 0">
          <Shape>
            <Appearance>
            <ImageTexture url="стекловолокно_38.jpg"></ImageTexture>
            </Appearance>
            <Sphere radius="0.11"></Sphere>
          </Shape>
        </Transform>
        <Transform DEF="ruka2" scale="0.3 1 0.3" translation="0.3 -0.1 0.1" rotation="1 0 0 1.57">
          <Shape>
            <Appearance>
            <ImageTexture url="стекловолокно_38.jpg"></ImageTexture>
            </Appearance>
            <Sphere radius="0.11"></Sphere>
          </Shape>
        </Transform>
      	</Group>
      </Group>
      </Transform>
      <!--использование тиражирования-->
      <Transform DEF="oni_2" translation="0 -0.55 0" rotation="0 1 0 1.57">
        <transform rotation="0 1 0 2.54">
        <Shape USE="Gr_1_oni"></Shape>
        </transform>
      </Transform>
      <!--свет-->
      <PointLight ambientIntensity="0.3" location="-50 70 -50" color="0.1 1 1" intensity="0.1" attenuation="1 0 0"></PointLight>
      <!--лампа-->
      <Transform translation="-4 -0.41 0">
      <Group DEF="lampa">
        <Transform translation="2 0.5 0">
          <Shape>
            <Appearance> 
              <Material DEF="LAMPOCHKA" diffuseColor='0 1 1' transparency = '0.05'></Material>
            </Appearance>
            <Sphere radius="0.1"></Sphere>
          </Shape>
        </Transform>
        <Transform translation="2 0.25 0" rotation="1 0 0 3.14"> 
        <Shape>
        <Appearance>
          <Material></Material>
        </Appearance>
          <Cone bottomRadius="0.15" height="0.5"></Cone>
        </Shape>
        </Transform>
        <Transform translation="2 -0.25 0" rotation="1 0 0 3.14"> 
        <Shape>
        <Appearance>
          <Material></Material>
        </Appearance>
          <Cylinder height="1" radius="0.01"></Cylinder>
        </Shape>
        </Transform>
        <Transform translation="2 -0.25 0" rotation="1 0 0 3.14"> 
        <Shape>
        <Appearance>
          <Material></Material>
        </Appearance>
          <Cylinder height="0.1" radius="0.05"></Cylinder>
        </Shape>
        </Transform>
        <Transform translation="2 -0.75 0" rotation="1 0 0 3.14"> 
        <Shape>
        <Appearance>
          <Material></Material>
        </Appearance>
          <Cylinder height="0.1" radius="0.15"></Cylinder>
        </Shape>
        </Transform>
      </Group>
      </Transform>
      <SpotLight location="-2 0.09 0" direction="0 0 0" color="1 0.1 1" intensity="0.9"></SpotLight>
      <!--ус конус-->
      <Collision enabled="true">
      <Transform rotation="0 0 0 1.57" translation="0 -21.25 0">
      <Shape>
        <Appearance>
        <ImageTexture url="спокойная-вода_31.jpg">
        </ImageTexture>
          <Material></Material>
        </Appearance>
          <Cone height="40" bottomRadius="20" topRadius="8"></Cone>
      </Shape>
      </Transform>
      </Collision>
      <!--Анимация линейная-->
      <!--Анимация тюли--> 
      <TimeSensor DEF="Time_tul" cycleInterval="5" loop="true"></TimeSensor>
          <PositionInterpolator DEF="SC_tul" key="0 0.25 0.5 0.75 1"
                              keyValue="-1 1.75 -2.208, -0.5 1.75 -2.208, -1 1.75 -2.208, -1.5 1.75 -2.208, -1 1.75 -2.208">
          </PositionInterpolator> 
      <ROUTE fromNode="Time_tul" fromField="fraction_changed"
             toNode="SC_tul" toField="set_fraction"></ROUTE>
      <ROUTE fromNode="SC_tul" fromField="value_changed"
             toNode="tul" toField="set_translation"></ROUTE>
      <!--Анимация колец тюли1--> 
      <TimeSensor DEF="Time_koltul1" cycleInterval="5" loop="true"></TimeSensor>
          <PositionInterpolator DEF="SC_koltul1" key="0 0.25 0.5 0.75 1"
                              keyValue="0.12 1.75 -2.3, 0.62 1.75 -2.3, 0.12 1.75 -2.3, -0.38 1.75 -2.3, 0.12 1.75 -2.3">
          </PositionInterpolator> 
      <ROUTE fromNode="Time_koltul1" fromField="fraction_changed"
             toNode="SC_koltul1" toField="set_fraction"></ROUTE>
      <ROUTE fromNode="SC_koltul1" fromField="value_changed"
             toNode="Kol_tul1" toField="set_translation"></ROUTE>
      <!--Анимация колец тюли2--> 
      <TimeSensor DEF="Time_koltul2" cycleInterval="5" loop="true"></TimeSensor>
          <PositionInterpolator DEF="SC_koltul2" key="0 0.25 0.5 0.75 1"
                              keyValue="-0.96 1.75 -2.3, -0.46 1.75 -2.3, -0.96 1.75 -2.3, -1.46 1.75 -2.3, -0.96 1.75 -2.3">
          </PositionInterpolator> 
      <ROUTE fromNode="Time_koltul2" fromField="fraction_changed"
             toNode="SC_koltul2" toField="set_fraction"></ROUTE>
      <ROUTE fromNode="SC_koltul2" fromField="value_changed"
             toNode="Kol_tul2" toField="set_translation"></ROUTE>
      <!--Анимация лампочки-->
      <TimeSensor DEF="Time_LAMP" cycleInterval="6" loop="true"></TimeSensor>
          <ColorInterpolator DEF="SC_lamp" key="0 0.2 0.5 0.6 0.8 1"
                        keyValue="0 0.9 1, 0.4 0.2 1, 0 0.9 1, 0.7 1 0.2, 0 0.9 1, 0.9 0 0">
          </ColorInterpolator>
      <ROUTE fromNode="Time_LAMP" fromField="fraction_changed"
             toNode="SC_lamp" toField="set_fraction"></ROUTE> 
      <ROUTE fromNode="SC_lamp" fromField="value_changed"
             toNode="LAMPOCHKA" toField="set_diffuseColor"></ROUTE>   
      <!--Играюсь со скульптурой-->          
      <TimeSensor DEF="Time_t" cycleInterval="5" loop="true"></TimeSensor>
      <CoordinateInterpolator DEF="CoordInt" key="0 0.5 1"
                              keyValue="-2 -1.2 2, -1 -3.2 1, -3 0 0, 1 2 0, -2    0   2, -2   0 1, -1.5  1  1, 0 2 -1,
                                        -2 -1.2 2, -1 -3.2 1, -3 0 0, 1 2 0, -1.5 .5   2, -1.5 0 1, -1.5 .5  1, 0 2 -1,
                                        -2 -1.2 2, -1 -3.2 1, -3 0 0, 1 2 0, -2    0   2, -2   0 1, -1.5  1  1, 0 2 -1">
      </CoordinateInterpolator>
      <ROUTE fromNode="Time_t" fromField="fraction_changed"
             toNode="CoordInt" toField="set_fraction"></ROUTE> 
      <ROUTE fromNode="CoordInt" fromField="value_changed"
             toNode="Coord" toField="set_point"></ROUTE>  
      <!--<NavigationInfo avatarSize="0.5 2 0.75" headlight="TRUE" type="LOOKAT"  speed="3"> 
      </NavigationInfo>-->
      <!--Добавим пульт овечке-->
      <Transform translation="0.05 -0.65 -0.37" rotation="0 1 0 1.57">
      <transform rotation="0 1 0 2.54">
      <Shape>
        <Appearance>
        <ImageTexture url="pult.jpg"></ImageTexture>
        </Appearance>
        <Box size="0.1 0.02 0.2"></Box>
      </Shape>
    	</transform>
      </Transform>
    </Scene>
  </X3D>
  </body> 
</html>
